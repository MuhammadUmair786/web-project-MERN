{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sajid Bashir\\\\Documents\\\\Web_Projects_NodeJS\\\\college-erp-master\\\\client\\\\src\\\\Pages\\\\Faculty\\\\FacultyUpdateProfile.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, withRouter } from 'react-router-dom';\nimport { facultyUpdate, facultyLogout } from '../../redux/action/facultyAction';\nimport FacultyHomeHelper from '../../Components/FacultyHomeHelper';\n\nconst FacultyUpdateProfile = () => {\n  const store = useSelector(store => store);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [gender, setGender] = useState('');\n  const [facultyMobileNumber, setContactNumber] = useState('');\n  const [aadharCard, setAadharCard] = useState('');\n  const [avatar, setAvatar] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const imagehandler = e => {\n    if (e.target.files && e.target.files[0]) {\n      let img = e.target.files[0];\n      setAvatar(img);\n    }\n  };\n\n  const formHandler = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"gender\", gender);\n    formData.append(\"facultyMobileNumber\", facultyMobileNumber);\n    formData.append(\"aadharCard\", aadharCard);\n    formData.append(\"avatar\", avatar);\n    formData.append(\"email\", store.faculty.faculty.faculty.email);\n    setIsLoading(true);\n    dispatch(facultyUpdate(formData, history));\n    alert(\"Kindly login again to see updates\");\n    dispatch(facultyLogout());\n    history.push('/');\n  };\n\n  useEffect(() => {\n    if (store.faculty.updateProfileFlag) {\n      setIsLoading(false);\n    }\n  }, [store.faculty.updateProfileFlag]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, store.faculty.isAuthenticated ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FacultyHomeHelper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 w-100 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"inputId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }, \"Profile Picture\"), /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    className: \"form-control\",\n    type: \"file\",\n    accept: \".jpg,.png,.jpeg\",\n    id: \"inputId\",\n    onChange: imagehandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"genderId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 37\n    }\n  }, \"Gender\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setGender(e.target.value),\n    className: \"form-control\",\n    id: \"genderId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 41\n    }\n  }, \"Select\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 41\n    }\n  }, \"Male\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 41\n    }\n  }, \"Female\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Other\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 41\n    }\n  }, \"Other\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"numberId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 37\n    }\n  }, \"Contact Number\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setContactNumber(e.target.value),\n    required: true,\n    type: \"number\",\n    className: \"form-control\",\n    id: \"numberId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 37\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 58\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 49\n    }\n  }, \"Loading...\")))), !isLoading && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 48\n    }\n  }, \"Update\")))))) : history.push('/'));\n};\n\nexport default withRouter(FacultyUpdateProfile);","map":{"version":3,"sources":["C:/Users/Sajid Bashir/Documents/Web_Projects_NodeJS/college-erp-master/client/src/Pages/Faculty/FacultyUpdateProfile.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","useHistory","withRouter","facultyUpdate","facultyLogout","FacultyHomeHelper","FacultyUpdateProfile","store","dispatch","history","gender","setGender","facultyMobileNumber","setContactNumber","aadharCard","setAadharCard","avatar","setAvatar","isLoading","setIsLoading","imagehandler","e","target","files","img","formHandler","preventDefault","formData","FormData","append","faculty","email","alert","push","updateProfileFlag","isAuthenticated","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory, withRouter } from 'react-router-dom'\n\n\nimport { facultyUpdate, facultyLogout} from '../../redux/action/facultyAction'\nimport FacultyHomeHelper from '../../Components/FacultyHomeHelper'\n\n\nconst FacultyUpdateProfile = () => {\n    const store = useSelector((store) => store)\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const [gender, setGender] = useState('')\n    const [facultyMobileNumber, setContactNumber] = useState('')\n    const [aadharCard, setAadharCard] = useState('')\n    const [avatar, setAvatar] = useState('')\n    const [isLoading, setIsLoading] = useState(false)\n    const imagehandler = (e) => {\n        if (e.target.files && e.target.files[0]) {\n            let img = e.target.files[0]\n            setAvatar(img)\n        }\n    }\n\n\n    const formHandler = async (e) => {\n        e.preventDefault()\n        const formData = new FormData()\n        formData.append(\"gender\", gender)\n        formData.append(\"facultyMobileNumber\", facultyMobileNumber)\n        formData.append(\"aadharCard\", aadharCard)\n        formData.append(\"avatar\", avatar)\n        formData.append(\"email\", store.faculty.faculty.faculty.email)\n        setIsLoading(true)\n        dispatch(facultyUpdate(formData, history))\n        alert(\"Kindly login again to see updates\")\n        dispatch(facultyLogout())\n        history.push('/')\n    }\n\n    useEffect(() => {\n        if (store.faculty.updateProfileFlag) {\n            setIsLoading(false)\n        }\n    }, [store.faculty.updateProfileFlag])\n    return (\n        <div>\n            {store.faculty.isAuthenticated ? <>\n                <FacultyHomeHelper />\n                <div className=\"container mt-5\">\n                    <div className=\"row \">\n                        <div className=\"col-md-5 w-100 m-auto\">\n                            <form onSubmit={formHandler}>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"inputId\">Profile Picture</label>\n                                    <input required className=\"form-control\" type=\"file\" accept=\".jpg,.png,.jpeg\" id=\"inputId\" onChange={imagehandler}></input>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"genderId\">Gender</label>\n                                    <select onChange={(e) => setGender(e.target.value)} className=\"form-control\" id=\"genderId\">\n                                        <option>Select</option>\n                                        <option value=\"Male\">Male</option>\n                                        <option value=\"Female\">Female</option>\n                                        <option value=\"Other\">Other</option>\n                                    </select>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"numberId\">Contact Number</label>\n                                    <input onChange={(e) => setContactNumber(e.target.value)} required type=\"number\" className=\"form-control\" id=\"numberId\" />\n                                </div>\n                                {/* <div className=\"form-group\">\n                                    <label htmlFor=\"aadharId\">Aadhar Card Number</label>\n                                    <input onChange={(e) => setAadharCard(e.target.value)} type=\"number\" className=\"form-control\" id=\"aadharId\" />\n                                </div>     */}\n                                <div class=\"row justify-content-center\">\n                                    <div class=\"col-md-1\">\n                                        {\n                                            isLoading && <div class=\"spinner-border text-primary\" role=\"status\">\n                                                <span class=\"sr-only\">Loading...</span>\n                                            </div>\n                                        }\n                                    </div>\n                                </div>\n                                {!isLoading && <button type=\"submit\" className=\"btn btn-info\">Update</button>}\n                            </form>\n                        </div>\n                    </div>\n                </div></> : (history.push('/'))}\n            \n        </div>\n    )\n}\n\nexport default withRouter(FacultyUpdateProfile)\n"]},"metadata":{},"sourceType":"module"}