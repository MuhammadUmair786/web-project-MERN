{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sajid Bashir\\\\Documents\\\\Web_Projects_NodeJS\\\\college-erp-master\\\\client\\\\src\\\\Pages\\\\AttendenceFaculty.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport classnames from 'classnames';\nimport { fetchStudents, markAttendence } from '../redux/action/facultyAction';\nimport FacultyHomeHelper from '../Components/FacultyHomeHelper';\nimport { useHistory } from 'react-router-dom';\n\nconst AttendenceFaculty = () => {\n  const store = useSelector(store => store);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [department, setDepartment] = useState(\"\");\n  const [year, setYear] = useState(\"\");\n  const [section, setSection] = useState(\"\");\n  const [subjectCode, setSubjectCode] = useState(\"\");\n  const [checkedValue, setCheckedValue] = useState([]);\n  const [error, setError] = useState({});\n  const [flag, setFlag] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoading2, setIsLoading2] = useState(false);\n\n  const handleInputChange = e => {\n    const tempCheck = checkedValue;\n    let index;\n\n    if (e.target.checked) {\n      tempCheck.push(e.target.value);\n    } else {\n      index = tempCheck.indexOf(e.target.value);\n      tempCheck.splice(index, 1);\n    }\n\n    setCheckedValue(tempCheck);\n  };\n\n  useEffect(() => {\n    if (store.error) {\n      setError(store.error);\n    }\n  }, [store.error]);\n\n  const formHandler = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    dispatch(fetchStudents(department, year, section));\n  };\n\n  useEffect(() => {\n    if (store.error || !store.faculty.fetchedStudentsHelper) {\n      setIsLoading(false);\n    }\n  }, [store.error, store.faculty.fetchedStudentsHelper]);\n\n  const secondFormHandler = e => {\n    e.preventDefault();\n    setIsLoading2(true);\n    dispatch(markAttendence(checkedValue, subjectCode, department, year, section));\n    setCheckedValue([]);\n  };\n\n  useEffect(() => {\n    if (store.faculty.fetchedStudentsHelper) {\n      setIsLoading2(false);\n    }\n  }, [store.faculty.fetchedStudentsHelper]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, store.faculty.isAuthenticated ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FacultyHomeHelper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }), store.faculty.fetchedStudentsHelper && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center mt-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: formHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"branchId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, \"Department\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setDepartment(e.target.value),\n    className: classnames(\"form-control\", {\n      'is-invalid': error.department\n    }),\n    id: \"branchId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 37\n    }\n  }, \"Select\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: store.faculty.faculty.faculty.department,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 37\n    }\n  }, store.faculty.faculty.faculty.department)), error.department && /*#__PURE__*/React.createElement(\"div\", {\n    classNameName: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 55\n    }\n  }, error.department)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"yearId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 33\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setYear(e.target.value),\n    className: classnames(\"form-control\", {\n      'is-invalid': error.year\n    }),\n    id: \"yearId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }, \"Select\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 37\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 37\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 37\n    }\n  }, \"4\")), error.year && /*#__PURE__*/React.createElement(\"div\", {\n    classNameName: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 49\n    }\n  }, error.year)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"sectionId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, \"Section\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setSection(e.target.value),\n    className: classnames(\"form-control\", {\n      'is-invalid': error.section\n    }),\n    id: \"sectionId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 37\n    }\n  }, \"Select\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"A\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 37\n    }\n  }, \"A\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"B\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 37\n    }\n  }, \"B\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 37\n    }\n  }, \"C\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"D\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 37\n    }\n  }, \"D\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 37\n    }\n  }, \"E\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 37\n    }\n  }, \"F\")), error.section && /*#__PURE__*/React.createElement(\"div\", {\n    classNameName: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 52\n    }\n  }, error.section)), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 33\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 54\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 45\n    }\n  }, \"Loading...\")))), !isLoading && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-info  \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 44\n    }\n  }, \"Search\")))), !store.faculty.fetchedStudentsHelper && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row  justify-content-center mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 58\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: secondFormHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"subjectId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 33\n    }\n  }, \"Subject Code\"), /*#__PURE__*/React.createElement(\"select\", {\n    required: true,\n    onChange: e => setSubjectCode(e.target.value),\n    className: \"form-control\",\n    id: \"subjectId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 37\n    }\n  }, \"Select\"), store.faculty.allSubjectCodeList.map(subjectCodeName => /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 45\n    }\n  }, subjectCodeName)))), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"checkbox\",\n    value: \"\",\n    id: \"defaultCheck1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 41\n    }\n  }, \"Registration Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 41\n    }\n  }, \"Student Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 33\n    }\n  }, store.faculty.fetchedStudents.map((obj, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"checkbox\",\n    value: obj._id,\n    onChange: handleInputChange,\n    id: \"defaultCheck1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 53\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 49\n    }\n  }, obj.registrationNumber), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 49\n    }\n  }, obj.name))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }, isLoading2 && /*#__PURE__*/React.createElement(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 55\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 45\n    }\n  }, \"Loading...\")))), !isLoading2 && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-info ml-1  \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 45\n    }\n  }, \"Submit\"))))) : history.push('/'));\n};\n\nexport default AttendenceFaculty;","map":{"version":3,"sources":["C:/Users/Sajid Bashir/Documents/Web_Projects_NodeJS/college-erp-master/client/src/Pages/AttendenceFaculty.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","classnames","fetchStudents","markAttendence","FacultyHomeHelper","useHistory","AttendenceFaculty","store","history","dispatch","department","setDepartment","year","setYear","section","setSection","subjectCode","setSubjectCode","checkedValue","setCheckedValue","error","setError","flag","setFlag","isLoading","setIsLoading","isLoading2","setIsLoading2","handleInputChange","e","tempCheck","index","target","checked","push","value","indexOf","splice","formHandler","preventDefault","faculty","fetchedStudentsHelper","secondFormHandler","isAuthenticated","allSubjectCodeList","map","subjectCodeName","fetchedStudents","obj","_id","registrationNumber","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport classnames from 'classnames'\nimport {fetchStudents,markAttendence } from '../redux/action/facultyAction'\nimport FacultyHomeHelper from '../Components/FacultyHomeHelper'\nimport { useHistory } from 'react-router-dom'\n\n\nconst AttendenceFaculty = () => {\n    const store = useSelector((store) => store)\n    const history = useHistory()\n    const dispatch = useDispatch()\n    const [department, setDepartment] = useState(\"\")\n    const [year, setYear] = useState(\"\")\n    const [section, setSection] = useState(\"\")\n    const [subjectCode, setSubjectCode] = useState(\"\")\n    const [checkedValue, setCheckedValue] = useState([])\n    const [error, setError] = useState({})\n    const [flag, setFlag] = useState(true)\n    const [isLoading, setIsLoading] = useState(false)\n    const [isLoading2, setIsLoading2] = useState(false)\n\n    const handleInputChange = (e) => {\n        const tempCheck = checkedValue\n        let index\n        if (e.target.checked)\n        {\n            tempCheck.push(e.target.value)\n        }\n        else {\n            index = tempCheck.indexOf(e.target.value)\n            tempCheck.splice(index,1)\n        }\n        setCheckedValue(tempCheck)\n    }\n    \n    useEffect(() => {\n        if (store.error) {\n            setError(store.error)\n        }\n    }, [store.error])\n\n    const formHandler = (e) => {\n        e.preventDefault()\n        setIsLoading(true)\n        dispatch(fetchStudents(department, year, section))\n       \n    }\n\n    useEffect(() => {\n        if (store.error || !store.faculty.fetchedStudentsHelper) {\n            setIsLoading(false)\n        }\n        \n    }, [store.error, store.faculty.fetchedStudentsHelper])\n\n \n\n    const secondFormHandler = (e) => {\n        e.preventDefault()\n        setIsLoading2(true)\n        dispatch(markAttendence(checkedValue, subjectCode, department, year, section))\n        setCheckedValue([])\n        \n    }\n\n    useEffect(() => {\n        if (store.faculty.fetchedStudentsHelper) {\n            setIsLoading2(false)\n        }\n        \n    },[store.faculty.fetchedStudentsHelper])\n    \n    return (\n        <div>\n            {store.faculty.isAuthenticated ? <>\n                <FacultyHomeHelper />\n                {store.faculty.fetchedStudentsHelper && <div className=\"row justify-content-center mt-4 \">\n                    <div className=\"col-md-4\">\n                        <form noValidate onSubmit={formHandler}>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"branchId\">Department</label>\n                                <select onChange={(e) => setDepartment(e.target.value)} className={classnames(\"form-control\",\n                                    {\n                                        'is-invalid': error.department\n\n                                    })} id=\"branchId\">\n                                    <option>Select</option>\n                                    <option value={store.faculty.faculty.faculty.department}>{store.faculty.faculty.faculty.department}</option>\n                                </select>\n                                {error.department && (<div classNameName=\"invalid-feedback\">{error.department}</div>)}\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"yearId\">Year</label>\n                                <select onChange={(e) => setYear(e.target.value)} className={classnames(\"form-control\",\n                                    {\n                                        'is-invalid': error.year\n\n                                    })} id=\"yearId\">\n                                    <option>Select</option>\n                                    <option value=\"1\">1</option>\n                                    <option value=\"2\">2</option>\n                                    <option value=\"3\">3</option>\n                                    <option value=\"4\">4</option>\n                                </select>\n\n                                {error.year && (<div classNameName=\"invalid-feedback\">{error.year}</div>)}\n                            </div>\n                           \n                            <div className=\"form-group\">\n                                <label htmlFor=\"sectionId\">Section</label>\n                                <select onChange={(e) => setSection(e.target.value)} className={classnames(\"form-control\",\n                                    {\n                                        'is-invalid': error.section\n\n                                    })} id=\"sectionId\">\n                                    <option>Select</option>\n                                    <option value=\"A\">A</option>\n                                    <option value=\"B\">B</option>\n                                    <option value=\"C\">C</option>\n                                    <option value=\"D\">D</option>\n                                    <option value=\"E\">E</option>\n                                    <option value=\"F\">F</option>\n                                </select>\n                                {error.section && (<div classNameName=\"invalid-feedback\">{error.section}</div>)}\n                            </div>\n                            <div class=\"row justify-content-center\">\n                                <div class=\"col-md-1\">\n                                    {\n                                        isLoading && <div class=\"spinner-border text-primary\" role=\"status\">\n                                            <span class=\"sr-only\">Loading...</span>\n                                        </div>\n                                    }\n                                </div>\n                            </div>\n                            {!isLoading && <button type=\"submit\" className=\"btn btn-info  \">Search</button>}\n                        </form>\n                    </div>\n                </div>}\n\n\n                {!store.faculty.fetchedStudentsHelper && <div className=\"row  justify-content-center mt-4\">\n                    <div className=\"col-md-4\">\n                        <form onSubmit={secondFormHandler}>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"subjectId\">Subject Code</label>\n                                <select required onChange={(e) => setSubjectCode(e.target.value)} className=\"form-control\" id=\"subjectId\">\n                                    <option>Select</option>\n                                    {\n                                        store.faculty.allSubjectCodeList.map(subjectCodeName =>\n                                            <option>{subjectCodeName}</option>\n                                        )\n                                    }\n                                </select>\n                            </div>\n                            <table className=\"table\">\n                                <thead>\n                                    <tr>\n                                        <td><div className=\"form-check\">\n                                            <input className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"defaultCheck1\" />\n                                        </div></td>\n                                        <th scope=\"col\">Registration Number</th>\n                                        <th scope=\"col\">Student Name</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {\n                                        store.faculty.fetchedStudents.map((obj, index) =>\n                                            <tr>\n                                                <td><div className=\"form-check\">\n                                                    <input className=\"form-check-input\" type=\"checkbox\" value={obj._id} onChange={handleInputChange} id=\"defaultCheck1\" />\n                                                </div></td>\n                                                <td key={index}>{obj.registrationNumber}</td>\n                                                <td>{obj.name}</td>\n                                            </tr>\n                                        )\n                                    }\n                                </tbody>\n                            </table>\n                            <div class=\"row justify-content-center\">\n                                <div class=\"col-md-1\">\n                                    {\n                                        isLoading2 && <div class=\"spinner-border text-primary\" role=\"status\">\n                                            <span class=\"sr-only\">Loading...</span>\n                                        </div>\n                                    }\n                                </div>\n                            </div>\n                            {!isLoading2 && <button type=\"submit\" className=\"btn btn-info ml-1  \">Submit</button>}\n                        </form>\n                    </div>\n                </div>\n                }</> : (history.push('/'))}\n            \n        </div>\n    )\n}\n\nexport default AttendenceFaculty\n"]},"metadata":{},"sourceType":"module"}